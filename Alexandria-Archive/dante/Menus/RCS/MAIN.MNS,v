head     1.5;
branch   ;
access   ;
symbols  ;
locks    ;
comment  @@;


1.5
date     91.06.06.08.09.22;  author dante;  state Exp;
branches ;
next     1.4;

1.4
date     89.05.22.12.07.31;  author dante;  state Exp;
branches ;
next     1.3;

1.3
date     89.01.19.13.54.34;  author dante;  state Exp;
branches ;
next     1.2;

1.2
date     87.04.20.22.38.48;  author dante;  state Exp;
branches ;
next     1.1;

1.1
date     86.09.30.14.07.19;  author dante;  state Exp;
branches ;
next     ;


desc
@Main menu
@


1.5
log
@production version on eleazar the VAX.
@
text
@{MAIN}

:COMPARE #INIT
     TO ""
	:DEBUG ON
	:STACK ON

	:CLEAR VARIABLES
	:SET @@EE ~Yes~

	:SET @@GB ~~
	:SET #PAUSEMSG ~Tap \o2RETURN\f2 to continue ... ~
	:SET #GETMSG ~\t\o5 Bad Selection, please choose again \f5\n~
	:SET #NOTINDICT ~\o5 Not in Dictionary \f5~
	:SET #SEARCHBY ~~
	:SET #INIT ~Done~

	:SET #O1 ~OR~					; op for indices
;	:SET #UDMAX ~10~				; max for modify/delete

	:SET @@HEADING ~\c\t\o4Dartmouth Dante Project\f4\n\n~
	:PRINT ~@@HEADING~

	:EXEC SEARCH

	:COMPARE #CHILD
	     TO ""
		:PRINT ~\n\o5 BRS/Search failed to startup \f5\n~
		:PAUSE
		:EXIT ~1~
	:DONE

	:BRS INTERRUPTS ON

	:SET @@SELECTION ~~
	:MENU ~SETUP_~
:DONE

:SET @@HAVEHITS ~No~
:SET @@DBNM ~DANT~
:SET @@SELECTION ~S~
:BRS CHANGE ~@@DBNM~

:COMPARE #DBNM
     TO ""
	:CLEAR STACK
	:PRINT ~\n\o5 Database @@DBNM is unavailable \f5\n~
	:PAUSE
	:EXIT ~1~
:DONE

:SEND ~TB0~
:SHOW BEFORE "*"
:PARSE #LEFTOVER EXTRACTING @@MXDOCS
:PARSE #LEFTOVER EXTRACTING @@MXDOCS
:PARSE #LEFTOVER EXTRACTING @@MXDOCS

:BRS PRINT PARAGRAPHS ~SHRT~
:COMPARE #RESULT
     TO "*"
	:SET @@BAVAIL ~No~
     TO ""
	:SET @@BAVAIL ~Yes~
:DONE

:COMPARE #CSFLAG
     TO "OFF|NO|FAILED"
	:PRINT ~\c~
;	:FILE DISPLAY ~sys(/dante/lib/dmotd.ddp)~ 
;	:PAUSE BOTTOM
	:PRINT ~\c@@HEADING~
	:FILE DISPLAY ~sys(/dante/lib/screen.open)~ 
	:PAUSE BOTTOM
	:PRINT ~@@HEADING~
	:FILE DISPLAY ~sys(/dante/lib/author.list)~ 
	:PAUSE BOTTOM
     TO "YES"
	:GET @@TMP
:DONE

:COMPARE #UPDBNM
     TO "*"
	:SET #EPVLG ~0~
:DONE

:SEND ~FC~
:SHOW BEFORE "*"

:PARSE #LEFTOVER EXTRACTING @@TMP
:COMPARE @@TMP
     TO "0"
	:SET @@FFMT ~Yes~
     TO "1"
	:SET @@FFMT ~No~
:DONE

:SET @@PF ~#PGLEN~
:PARSE @@PF INCREMENT ~-4~
:SET @@PN ~#PGLEN~
:PARSE @@PN INCREMENT ~-2~

:SET @@SINDEX ~~
:SET @@ICONTINUE ~No~
:SET @@PSPEC ~SHRT,HITS~

:MENU ~GSRCH_~
@


1.4
log
@DDP main menu from 10/88 load
@
text
@d19 1
a19 1
	:SET #UDMAX ~10~				; max for modify/delete
d69 4
a72 1
	:FILE DISPLAY ~sys(/dante/lib/dmotd.ddp)~
@


1.3
log
@Initial, stock MAIN menu.  Author list hardwired into menu
@
text
@d49 1
a49 1
	:EXIT 1
d68 3
@


1.2
log
@Removed Arrivederchi cuteness and added list of contents
@
text
@d68 3
a70 14
	:PRINT ~
			The database currently contains:

			      The Divine Comedy
				  Daniello
                                     &
                        Inferno 5 from the following:

   Benvenuto      Buti           Giacalone      Padoan         Serravalle
   Bianchi        Cassinese1     Guido          Pietro         Singleton
   Boccaccio      Cassinese2     Jacopo         Provenzal      Vellutello
   Bosco          Costa          Lana           Selmiano
\n\n~
	:PAUSE
@


1.1
log
@Initial revision
@
text
@d11 1
a11 1
	:SET @@GB ~\cArrivederci, #FORMAL\n~
d40 1
a40 1
:SET @@DBNM ~XDAN~
d68 13
a80 7
	:PRINT ~@@HEADING~
	:PRINT ~\t     There are a total of @@MXDOCS commentary descriptions and
\t\t   commentary text segments in the database.\n
Paragraph Labels:\n\n~
	:SET #HEADING ~@@HEADING_Paragraph Labels (continued):\n\n~
	:SEND ~GE~
	:SHOW
@
