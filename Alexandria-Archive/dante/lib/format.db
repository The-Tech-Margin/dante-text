:VALID DANT XDDP NDDP 
\~
\~	Print-time formatting for DANT
\~
:SET PAGECT=1
:SET BUF0=COMM
:SET BUF1=DTYP:1C "T"
\~
\~ The ATTR contains keywords such as "copyright" and "litterale."
\~ When there is a single keyword, BUF7 picks it up. When there are
\~ multiple keywords, there is a leading blank in the paragraph, and that
\~ throws BRS completely off, so we also parse the paragraph into BUF8
\~ and BUF9 to cover that possibility. And then we have to test all
\~ three BUFs. Stupid, but it works.
\~
:SET BUF7=ATTR
:SET BUF8=ATTR:A1C 1W
:SET BUF9=ATTR:A1C A1W 1W
\~
\~	Formatting for Description entries
\~
:IF BUF1 = "D"
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\nInformation about \o1#BUF0\f1\n
:SET FMT=ON
:SET INDENT=0
|||||Author:
:SET INDENT=14
[AUTH]\n\n
:SET INDENT=0
|||Language:
:SET INDENT=14
[LANG]\n\n
:SET INDENT=0
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\nInformation about \o1#BUF0\f1 (cont.)\n
Publication:
:SET INDENT=14
:SET SUBNL=2
[PUBL]\n\n
:SET INDENT=0
|||||Editor:
:SET INDENT=14
[EDTR]\n\n
:IF DENT
:SET INDENT=0
|Data Entry:
:SET INDENT=14
[DENT]\n\n
:ENDIF
:IF LODD
:SET INDENT=0
||Load Date:
:SET INDENT=14
[LODD: DS]\n\n
:ENDIF
:IF ATTR
:SET INDENT=0
|Attributes:
:SET INDENT=14
[ATTR]\n\n
:ENDIF
:IF NOTE
:SET INDENT=0
||||||Notes:
:SET INDENT=14
[NOTE]
:ENDIF
:SET LINE=TOP
:ENDIF
\~
\~	Formatting for Text documents
\~
:IF BUF1 = "T"
:SET BUF2=CTCA: A3C 3C
:SET BUF3=CNTO
:SET BUF4=LINE
:SET BUF5=ENDL
:SET BUF6=PUBD
:IF BUF4
:IF BUF4 ! BUF5
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6), ^#BUF2~. #BUF3.#BUF4-#BUF5\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ELSE
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6), ^#BUF2~. #BUF3.#BUF4\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ENDIF
:ELSE
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6), ^#BUF2~. #BUF3\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ENDIF
:SET SUBNL=2
:SET INDENT=0
:IF BUF7 = "copyright" BUF8 = "copyright" BUF9 = "copyright"
:SET FMT=ON
[Copyrighted Material]|
:ENDIF
:IF BUF7 = "litterale" BUF8 = "litterale" BUF9 = "litterale"
:SET FMT=ON
[Esposizione Litterale]|
:ENDIF
:IF BUF7 = "allegorica" BUF8 = "allegorica" BUF9 = "allegorica"
:SET FMT=ON
[Esposizione Allegorica]|
:ENDIF
:SET FMT=DEFAULT
[TEXT]
:SET LINE=TOP
:ENDIF
\~
\~	Formatting for non-line-specific documents
\~
:IF BUF1 = "I"
:SET BUF2=CTCA: A3C 3C
:SET BUF3=CNTO
:SET BUF6=PUBD
:IF BUF2
:IF BUF3
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6), ^#BUF2~. #BUF3. Nota.\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ELSE
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6), ^#BUF2~. Nota.\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ENDIF
:ELSE
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
\o1#BUF0\f1 (#BUF6) Nota.\l50Doc #DOC of #RSLT, Screen#PAGE\n
:ENDIF
:SET SUBNL=2
:SET INDENT=0
:IF BUF7 = "copyright" BUF8 = "copyright" BUF9 = "copyright"
:SET FMT=ON
[Copyrighted Material]|
:ENDIF
:IF BUF7 = "litterale" BUF8 = "litterale" BUF9 = "litterale"
:SET FMT=ON
[Esposizione Litterale]|
:ENDIF
:IF BUF7 = "allegorica" BUF8 = "allegorica" BUF9 = "allegorica"
:SET FMT=ON
[Esposizione Allegorica]|
:ENDIF
:SET FMT=DEFAULT
[TEXT]
[BTXT]
:SET LINE=TOP
:ENDIF
\~
\~	Formatting for The Poem
\~
:IF BUF1 = "P"
:SET BUF2=CTCA: A3C 3C
:SET BUF3=CNTO
:SET BUF4=LINE
:SET BUF5=ENDL
:SET COLUMNS=79
:SET HEAD=\t\o4Dartmouth Dante Project\f4\n\n-
Divina Commedia, ^#BUF2~. #BUF3.#BUF4-#BUF5\l62Doc #DOC of #RSLT\n\n
:SET INDENT=6
:SET FMT=OFF
[TEXT]

:SET INDENT=0
[Copyrighted Edition]
:SET LINE=TOP
:ENDIF
